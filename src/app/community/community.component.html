<!-- Main Content -->
<div class="main-content">
    <h1>Community (Talk Program)</h1>
    <p>Join our community and talk with others who understand. Share your thoughts and see feedback from others.</p>

    <!-- Status Messages -->
    <div *ngIf="errorMessage" class="alert error">
        {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="alert success">
        {{ successMessage }}
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="isLoading" class="loading-spinner">
        <div class="spinner"></div>
    </div>

    <div class="community-card">
        <h2>Community Feedback</h2>
        <div class="feedback">
            <div *ngIf="!isLoading && posts.length === 0" class="no-posts">
                No posts yet. Be the first to share your thoughts!
            </div>
            <div *ngFor="let post of posts" class="post">
                <p>
                    <span class="user">{{ post.name }}:</span> 
                    {{ post.thoughts }}
                    <span class="post-date">{{ formatDate(post.date) }}</span>
                </p>
            </div>
        </div>
        <form (ngSubmit)="submitPost()">
            <textarea 
                [(ngModel)]="newPostText" 
                name="newPostText"
                rows="4" 
                placeholder="Share your thoughts..."
                [disabled]="isSubmitting"></textarea>
            <button type="submit" [disabled]="isSubmitting">
                <span *ngIf="!isSubmitting">Submit</span>
                <span *ngIf="isSubmitting">Posting...</span>
            </button>
        </form>
        <p class="quote">"Together, we are stronger."</p>
    </div>
</div>