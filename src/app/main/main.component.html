<main class="main-content">
  <h1>Welcome to MindHaven</h1>
  <p>Your mental health journey starts here. Take the first step today!</p>

  <!-- Streak Section -->
  <div class="streak-card" [class.warning]="streakStatus === 'dying'" [class.expired]="streakStatus === 'expired'">
    <h2 *ngIf="!loading">
      <span class="flame-icon">{{getFlameIcon()}}</span> 
      Your Streak: {{streak}} Days
    </h2>
    <div *ngIf="loading" class="streak-loading">Loading your streak...</div>
    
    <!-- Error message display -->
    <div *ngIf="errorMessage" class="error-message">
      {{errorMessage}}
    </div>
    
    <p *ngIf="!errorMessage">{{getStreakMessage()}}</p>
    
    <div class="streak-actions">
      <a routerLink="/journal" class="cta-button">
        {{streak > 0 ? 'Continue Journaling' : 'Start Journaling'}}
      </a>
      <button *ngIf="streakStatus === 'expired' && restoreAttempts < maxRestoreAttempts" 
              (click)="restoreStreak()" 
              class="restore-button"
              [disabled]="restoreInProgress">
        <span *ngIf="!restoreInProgress">ğŸ”„ Restore Streak ({{maxRestoreAttempts - restoreAttempts}} left)</span>
        <span *ngIf="restoreInProgress">â³ Restoring...</span>
      </button>
    </div>
    
    <div *ngIf="streakStatus === 'dying'" class="streak-alert">
      â° Don't break your streak! Journal now to keep it alive.
    </div>
  </div>

  <!-- Feature Cards -->
  <div class="cards-container">
    <div class="card">
      <h2>ğŸ“– Journal</h2>
      <p>
        Track your thoughts and emotions. <a routerLink="/journal">Go to Journal</a>.
      </p>
    </div>

    <div class="card">
      <h2>ğŸ¤– MindHaven AI</h2>
      <p>
        Get personalized mental health insights.
        <a routerLink="/mindhaven-ai">Try AI Support</a>.
      </p>
    </div>

    <div class="card">
      <h2>ğŸ’¬ Community</h2>
      <p>
        Connect with others on the same journey.
        <a routerLink="/community">Join the Community</a>.
      </p>
    </div>

    <div class="card">
      <h2>ğŸ“š Articles</h2>
      <p>
        Explore mental health resources. <a routerLink="/articles">Read Articles</a>.
      </p>
    </div>
  </div>
</main>